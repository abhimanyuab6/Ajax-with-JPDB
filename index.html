
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties. To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="en">
    <head>
        <title>Intern</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> <script
        src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> </head>
    <body>
        <div class="container">
            <h2>Sign Up Form</h2> <form id="empForm" method="post"> <div class="form-group">
                    </label></span>
                    <body bgcolor="YELLOW">
                        <span><label for="FirstName">First Name:</label> <label id="Firstname">
                                <input type="text" class="form-control" name="name" id="FirstName" placeholder="Enter the Fist Name" required>
                                </div>
                                <div class="form-group">
                                    <label for="LastName">Last Name:</label>
                                    <input type="text" class="form-control" id="LastName" placeholder="Enter Last Name" name="LastName">
                                </div>
                                <div class="form-group">
                                    <label for="Email">Email:</label>
                                    <input type="email" class="form-control" id="Email" placeholder="Enter Email" name="Email">
                                    <div class="form-group">
                                        <label for="DOB">Date Of Birth:</label>
                                        <input type="date" class="form-control" id="DOB" placeholder="DD/MM/YY" name="DOB">
                                    </div>
                                    <div class="form-group">
                                        <label for="contact">MobileNo:</label>
                                        <input type="tel" class="form-control" id="contact" placeholder="Without 0 or 91" name=""contact>
                                        <div class="form-group">
                                            <label for="address">Address:</label>
                                            <textarea></textarea>
                                            <div class="form-group">
                                                <label for="location">LOCATION:</label>
                                                <input type="text" class="form-control" id="location" placeholder="Location" name="location">
                                                <br>
                                                <input type="button" class="btn btn-primary" id="empSave" value="Save" onclick="saveData();">
                                                </form>
                                            </div>
                                            <script>

                                                function validateAndGetFormData() {
                                                    var eName = $("#name").val();
                                                    if (ename === "") {
                                                        alert("First Name is Required");
                                                        $("#name").focus();
                                                        return "";
                                                    }
                                                    var eName = $("#LastName").val();
                                                    if (eName === "") {
                                                        alert("Last Name is Required");
                                                        $("#LastName").focus();
                                                        return "";
                                                    }
                                                    var EmailVar = $("#Email").val();
                                                    if (EmailVar === "") {
                                                        alert("Email is required");
                                                        $("#Email").focus();
                                                        return "";
                                                    }
                                                    var jsonStrObj = {
                                                        name: ename, LastName: eName, Email: EmailVar,
                                                    };
                                                    return JSON.stringify(jsonStrObj);
                                                }

                                                function createPUTRequest(connToken, jsonObj, dbName, relName) {
                                                    var putRequest = "{\n"
                                                            + "\"token\" : \"" + connToken
                                                            + "\","
                                                            + "\"dbName\": \"" + dbName
                                                            + "\",\n" + "\"cmd\" : \"PUT\",\n" + "\"rel\" : \""
                                                            + relName + "\","
                                                            + "\"jsonStr\": \n"
                                                            + jsonObj + "\n"
                                                            + "}";
                                                    return putRequest;
                                                }
                                                function executeCommand(reqString, dbBaseUrl, apiEndPointUrl) { var url = dbBaseUrl + apiEndPointUrl;
                                                        var jsonObj;
                                                        $.post(url, reqString, function (result) {
                                                        jsonObj = JSON.parse(result); }).fail(function (result) {
                                                var dataJsonObj = result.responseText;
                                                        jsonObj = JSON.parse(dataJsonObj); });
                                                        return jsonObj;
                                                        }
                                                function resetForm() { $("#FirstName").val("") $("#LastName").val(""); $("#Email").val(""); $("#FirstName").focus();
                                                        }
                                                function saveData() {
                                                var jsonStr = validateAndGetFormData();
                                                        if (jsonStr === "") {
                                                return;
                                                }
                                                var putReqStr = createPUTRequest("90935971|-31948846622839665|90934110", jsonStr, "Abhi", "ab6");
                                                        alert(putReqStr);
                                                        jQuery.ajaxSetup({async: false});
                                                        var resultObj = executeCommand(putReqStr,
                                                                "http://api.login2explore.com:5577", "/api/iml");
                                                        jQuery.ajaxSetup({async: true});
                                                        alert(JSON.stringify(resultObj));
                                                        resetForm();
                                                }
                                                
                                            </script>
                                            </body>
                                            </html>